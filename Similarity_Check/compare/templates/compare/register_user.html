{% extends 'base_dashboard.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %}Register New User{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white/90 backdrop-blur-md p-10 rounded-xl shadow-2xl border border-blue-200 mt-8">

  <!-- Header + Back Button -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-3xl font-extrabold text-blue-700 flex items-center gap-2">
      <!-- ðŸ‘¤ Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A9 9 0 0112 15a9 9 0 016.879 2.804M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
      Register New User
    </h2>
    <a href="{% url 'dashboard' %}" class="text-sm bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md shadow transition flex items-center gap-1">
      <!-- ðŸ”™ Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Back to Dashboard
    </a>
  </div>

  <form method="post" class="space-y-6">
    {% csrf_token %}
    
    <!-- Username -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Username
      </label>
      <div class="flex items-center gap-2">
        <!-- ðŸ‘¤ Icon -->
        <svg class="h-5 w-5 text-gray-500 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A9 9 0 0112 15a9 9 0 016.879 2.804M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
        {{ form.username|add_class:"w-full rounded-md border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-400 px-3 py-2 text-sm" }}
      </div>
      {% if form.username.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.username.errors }}</p>
      {% endif %}
    </div>

    <!-- Email -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Email
      </label>
      <div class="flex items-center gap-2">
        <!-- ðŸ“§ Icon -->
        <svg class="h-5 w-5 text-gray-500 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12H8m8 0l-8 8m8-8L8 4" />
        </svg>
        {{ form.email|add_class:"w-full rounded-md border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-400 px-3 py-2 text-sm" }}
      </div>
      {% if form.email.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.email.errors }}</p>
      {% endif %}
    </div>

    <!-- Password -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Password
      </label>
      <div class="flex items-center gap-2">
        <!-- ðŸ”’ Icon -->
        <svg class="h-5 w-5 text-gray-500 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c.828 0 1.5-.895 1.5-2s-.672-2-1.5-2-1.5.895-1.5 2 .672 2 1.5 2z M6 12v8h12v-8H6z" />
        </svg>
        {{ form.password1|add_class:"w-full rounded-md border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-400 px-3 py-2 text-sm" }}
      </div>
      {% if form.password1.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.password1.errors }}</p>
      {% endif %}
    </div>

    <!-- Confirm Password -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Confirm Password
      </label>
      <div class="flex items-center gap-2">
        <!-- âœ… Icon -->
        <svg class="h-5 w-5 text-gray-500 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
        {{ form.password2|add_class:"w-full rounded-md border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-400 px-3 py-2 text-sm" }}
      </div>
      {% if form.password2.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.password2.errors }}</p>
      {% endif %}
    </div>

    <!-- Role Dropdown -->
    <div>
      <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Select Role</label>
      <select name="role" id="role" required
              class="w-full rounded-md border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-400 px-3 py-2 text-sm">
        <option value="">-- Choose Role --</option>
        <option value="Admin">Admin</option>
        <option value="Supervisor">Supervisor</option>
        <option value="Student">Student</option>
      </select>
    </div>

    <!-- Submit Button -->
    <button type="submit"
            class="w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-bold py-3 px-4 rounded-md shadow-md transition duration-300 flex items-center justify-center gap-2">
      <!-- âœ… Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      Create User
    </button>
  </form>
</div>
{% endblock %}
